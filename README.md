# Welcome to Airline Management Project

![Alt text](/image/airline_management.png)

It consists of the following micro-services -

1. FlightsAndSearch
2. AuthService
3. BookingService
4. ReminderService
5. API_Gateway

## Project Setup

- clone the project on your local.
- change the working directory to `FlightsAndSearch` and execute `npm install`.
- Similarly do the above step for remaining 4 micro-service.
- create `.env` file in the root directory of every micro-service and add the following environment variables for respective micro-services.
- For **FlightsAndSearch**
  - PORT = 3000
  - SYNC_DB = false (true: when you want to sync the database)
- For **AuthService**
  - PORT = 3001
  - JWT_KEY = auth
  - SYNC_DB = false (true: when you want to sync the database)
- For **BookingService**
  - PORT = 3002
  - DB_SYNC = true
  - FLIGHT_SERVICE_PATH = 'http://localhost:3000'
  - EXCHANGE_NAME = AIRLINE_BOOKING
  - REMINDER_BINDING_KEY = REMINDER_SERVICE
  - MESSAGE_BROKER_URL = 'amqp://localhost'
- For **ReminderService**
  - PORT = 3003
  - EMAIL*ID = \_YOUR_EMAIL*
  - EMAIL*PASSWORD = \_PASSWORD WHICH IS GENERATED BY GOOGLE AFTER YOU CREATE AN APP (https://myaccount.google.com/apppasswords)*
  - EXCHANGE_NAME = AIRLINE_BOOKING
  - REMINDER_BINDING_KEY = REMINDER_SERVICE
  - MESSAGE_BROKER_URL = 'amqp://localhost'
- For **API_Gateway**

  - PORT= 3004

- Inside `src/config` directory of every micro-service except **API_Gateway** create a new file `config.json` and add the following json for respective micro-services.
- For **FlightsAndSearch**

```json
{
  "development": {
    "username": "<YOUR USERNAME>",
    "password": "<YOUR DB PASSWORD>",
    "database": "Flights_Search_DB_DEV",
    "host": "127.0.0.1",
    "dialect": "mysql"
  }
}
```

- For **AuthService**

```json
{
  "development": {
    "username": "<YOUR USERNAME>",
    "password": "<YOUR DB PASSWORD>",
    "database": "Auth_DB_DEV",
    "host": "127.0.0.1",
    "dialect": "mysql"
  }
}
```

- For **BookingService**

```json
{
  "development": {
    "username": "<YOUR USERNAME>",
    "password": "<YOUR DB PASSWORD>",
    "database": "BOOKING_DEV_DB",
    "host": "127.0.0.1",
    "dialect": "mysql"
  }
}
```

- For **ReminderService**

```json
{
  "development": {
    "username": "<YOUR USERNAME>",
    "password": "<YOUR DB PASSWORD>",
    "database": "REMINDER_DB_DEV",
    "host": "127.0.0.1",
    "dialect": "mysql"
  }
}
```

- execute `npx sequelize db:create` from `/src` of all the micro-service directory except **API_Gateway**.

## Run Project

- Go to `/src` directory of every micro-service except for **API_Gateway** and execute `npm start` at sesparate terminal. For **API_Gateway**, go to `/src` and execute `npx nodemon index.js` (The same setup for **API_Gateway** can be done in future though).
- For every micro-service, you can navigate to `/src/routes/index.js` and `/src/routes/v1/index.js` and can figure out the `APIs` for every micro-service.
